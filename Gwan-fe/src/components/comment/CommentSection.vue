<template>
  <div class="comment-section container my-5">
    <!-- ëŒ“ê¸€ ì œëª© -->
    <h4 class="fw-bold mb-4">ëŒ“ê¸€({{ comments.length }})</h4>

    <!-- ëŒ“ê¸€ ëª©ë¡ -->
    <CommentItem
      v-for="comment in comments"
      :key="comment.id"
      :comment="comment"
    />

    <!-- ëŒ“ê¸€ ì‘ì„± -->
    <h6 class="text-purple fw-bold mb-2">ğŸŸ£ ëŒ“ê¸€ì°½</h6>
    <div class="bg-light p-4 rounded-4">
      <label for="commentInput" class="form-label fw-semibold">ëŒ“ê¸€ ì‘ì„±</label>
      <textarea
        v-model="newComment"
        id="commentInput"
        class="form-control mb-3"
        rows="3"
        placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”"
      ></textarea>
      <div class="text-end">
        <button class="btn btn-primary btn-sm" @click="submitComment">ëŒ“ê¸€ ì‘ì„±</button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

// ì„œë²„ì—ì„œ ë°›ì•„ì˜¬ ëŒ“ê¸€ë“¤
const comments = ref([])

// ëŒ“ê¸€ ì…ë ¥ê°’
const newComment = ref('')

// ëŒ“ê¸€ ë“±ë¡ í•¨ìˆ˜
function submitComment() {
  // TODO: axios ìš”ì²­ìœ¼ë¡œ ë“±ë¡ ì²˜ë¦¬ ì˜ˆì •
  // axios.post(...) â†’ ì„±ê³µ ì‹œ ëª©ë¡ ìƒˆë¡œ ë¶ˆëŸ¬ì˜¤ê¸°
  console.log('ëŒ“ê¸€ ë‚´ìš©:', newComment.value)
  newComment.value = ''
}
</script>

<style scoped>
.text-purple {
  color: #7e22ce;
}
textarea {
  resize: none;
}
</style>
